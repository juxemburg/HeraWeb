function LoadEvents(){var n=document.getElementById("span-notification-count"),t=document.getElementById("i-notification-icon"),u=document.getElementById("btn-notifications");$(n).hide();var i=i=>{i?($(n).show(),t.innerText="notifications_active",n.innerText=i):(t.innerText="notifications_none",$(n).hide())},r=()=>{$.post("/api/Notifications/Count",n=>{i(n.count)})},f=getLoadNotificationsHandler(i);u.onclick=()=>{f()};r();setInterval(r,15e3)}function getLoadNotificationsHandler(n){var t=document.getElementById("ul-notifications"),i=n=>{$(t).empty(),n&&t.appendChild(getLoadingli())};return()=>{i(!0),$.post("/api/Notifications/Resume",r=>{if(i(!1),n(0),r.lenght>0)for(var u in r)t.appendChild(createNotificationli(r[u]));else t.appendChild(createNotNotificationli())})}}function createNotificationli(n){var i=document.createElement("li"),t=document.createElement("a");return t.setAttribute("href",""+n.action),t.appendChild(document.createTextNode(n.message+"("+n.count+")")),i.appendChild(t),i}function createNotNotificationli(){var i=document.createElement("li"),n=document.createElement("p"),t;return n.appendChild(document.createTextNode("Sin notificaciones ")),n.setAttribute("class","text-center"),t=document.createElement("i"),t.setAttribute("class","material-icons"),t.innerHTML="sentiment_very_dissatisfied",n.appendChild(t),i.appendChild(n),i}function getLoadingli(){var n=document.createElement("li"),t;return n.setAttribute("class","text-center"),t=document.createElement("img"),t.setAttribute("src","/images/Ellipsis.svg"),n.appendChild(t),n}window.addEventListener("load",()=>{LoadEvents()});