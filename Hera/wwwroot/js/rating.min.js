(function(){"use strict";function n(n,t,i,r){function e(n,t){for(var r,i=0;i<n.length;i++)r=n[i],t(r,i)}function s(n){h(n);c(n);l(n)}function h(n){n.addEventListener("mouseover",function(){e(u,function(t,i){i<=parseInt(n.getAttribute("data-index"))?t.classList.add("is-active"):t.classList.remove("is-active")})})}function c(n){n.addEventListener("mouseout",function(n){u.indexOf(n.relatedTarget)===-1&&f(null,!1)})}function l(n){n.addEventListener("click",function(t){t.preventDefault();f(parseInt(n.getAttribute("data-index"))+1,!0)})}function f(n,f){n&&n<0||n>i||(f===undefined&&(f=!0),t=n||t,e(u,function(n,i){i<t?n.classList.add("is-active"):n.classList.remove("is-active")}),r&&f&&r(o()))}function o(){return t}var u=[];return function(){var f,r;if(!n)throw Error("No element supplied.");if(!i)throw Error("No max rating supplied.");if(t||(t=0),t<0||t>i)throw Error("Current rating is out of bounds.");for(f=0;f<i;f++)r=document.createElement("li"),r.classList.add("c-rating__item"),r.setAttribute("data-index",f),f<t&&r.classList.add("is-active"),n.appendChild(r),u.push(r),s(r)}(),{setRating:f,getRating:o}}window.rating=n})();