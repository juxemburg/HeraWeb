@model CalificacionCualitativaViewModel
@{
    ViewData["Title"] = "Calificar";
}

@section Styles {
    <link href="~/css/Calificar/calificar.css" rel="stylesheet" />
}

<h2>Calificación del estudiante en el desafio: @Model.NombreDesafio</h2>

<div class="row">
    <div class="card bordered">
        @if (!Model.Calificado)
            {
            <div class="card-header">
                <h3>Califica éste estudiante:</h3>
            </div>
            <div class="card-content">
                @Html.Partial("_AddCalificacionCualitativa", Model.FormModel)
            </div>
        }
        else
        {
            <div class="card-header">
                <h3 class="color-success">
                    Estudiante Calificado el:
                    @Model.FormModel.FechaRegistro
                    <span class="pull-right glyphicon glyphicon-ok"></span>
                </h3>
            </div>
            <div class="card-content">
                @Html.Partial("_EditCalificacionCualitativa", Model.FormModel)
            </div>
            
        }

    </div>
</div>

<div class="row">
    <hr />
    @foreach (var item in Model.Registro.Calificaciones)
    {
        <div class="card shadow col-sm-12">
            <div class="card-header">
                <h3>
                    Registro Día @item.Tiempoinicio
                </h3>
            </div>
            <div class="card-content">
                <p>
                    Duracion: @item.Duracion.Hours
                    : @item.Duracion.Minutes
                    : @item.Duracion.Seconds
                </p>
            </div>
            <div class="card-footer">
                <a class="btn btn-info" asp-controller="File"
                   asp-action="DownloadResultado"
                   asp-route-estudianteId="@item.EstudianteId"
                   asp-route-cursoId="@item.CursoId"
                   asp-route-desafioId="@item.DesafioId"
                   asp-route-idCalificacion="@item.Id">
                    Descarga los resultados del estudiante
                    <span class="glyphicon glyphicon-download"></span>
                </a>
            </div>
        </div>
    }

</div>

